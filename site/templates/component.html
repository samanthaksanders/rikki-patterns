{% extends "base.html" %}
{% block title %}{{ config.seo.title }} {{ component.name }} {% endblock %}

{% block body %}
<script src="/static/js/iframeResizer.min.js"></script>

<div class="page-header">
    <h1 class="page-header__title">
        {{ component.displayName }}
    </h1>
</div>

<div class="panel-right-flex">
    <div class="panel-right-content">
        <div class="gutters panel-intro">
            <div class="markdown component__description">
                {{ component.readme|markdown|safe }}
            </div>
        </div>
        <div class="gutters">
            {% for flavour in component.flavours %}
                <h2 id="flavour-{{ flavour.id }}">
                    {{ flavour.displayName }}
                    {{ flavour.title }}
                    <small class='u-tiny'>
                        <span class='pill'>{{ flavour.status }}</span>
                    </small>
                </h2>

                {% if flavour.state %}
                    {% set state = flavour.state %}
                    {% include "example.html" %}
                {% endif %}

                {% for state in flavour.states %}
                    {% include "example.html" %}
                {% endfor %}
            {% endfor %}

            <hr class="divider-body">

            <h4>Data</h4>

            <div class="" id="{{ component.name }}">
                <div class="component__options">
                    {% include "partials/data-table.html" %}
                </div>
            </div>

            {% if component.usage %}
            <h4>Usage</h4>
            <p>
            This table gives you a quick overview of the classes that can be applied to create a {{ component.name }}.
            </p>
            <div class="">
                {% include "partials/usage.html" %}
            </div>
            {% endif %}

            {% if not component.usage %}
            <h4>Usage</h4>
            <p>
                This component has no configurable options.
            </p>
            {% endif %}
        </div>
    </div>

    <div class="right-container">
        <p>
            <small>
                Flavours and variations
            </small>
        </p>

        {% for flavour in component.flavours %}
            <h4>
                <a class="u-dark-text" href="/components/{{ component.id }}/#flavour-{{ flavour.id }}">
                    {{ flavour.title }}
                </a>
            </h4>

            {% for state in flavour.states %}
            <div class="nav__item">
                <a class="nav__link" href="/components/{{ component.id }}/#flavour-{{ flavour.id }}/{{ state.id }}">
                    {{ state.title }}
                </a>
            </div>
            {% endfor %}

            <hr class="divider">
        {% endfor %}
    </div>
</div>

{% endblock %}
